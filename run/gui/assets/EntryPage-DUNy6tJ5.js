import{j as e,b8 as p,w as P,r as x,aa as n}from"./material-react-table-DBlzLFj3.js";import{g as A}from"./utils-CNAIOzAZ.js";import{V as i,T as o,C as l,u as m,N as h,I,D as W,a as D,b as S,P as C,c as L,L as v,O as T}from"./index-Db9INgJo.js";import{N as j,U as k,a as R}from"./UploadNavAbout-DrVEZFzO.js";import{e as U}from"./EntryContext-KoOxEAbS.js";import"./@mapbox/rehype-prism-vXukC30A.js";import"./msw-BcASioFF.js";import"./react-pdf-C7aGFVic.js";import"./plotly.js-dist-min-EtOYGmgt.js";import"./Boolean-4Uc0VIHp.js";function V({datasets:t}){return e.jsx(j,{label:"Datasets",children:e.jsx(p,{sx:{width:"100%"},children:t?t.map(a=>e.jsx($,{dataset:a},a.dataset_id)):e.jsx(P,{children:"no datasets"})})})}function $({dataset:t}){return e.jsx(e.Fragment,{children:e.jsxs(i,{value:t.dataset_name,label:"Dataset name",fullWidth:!0,children:[e.jsx(o,{}),e.jsx(l,{})]})})}function q({...t}){const{navigate:a}=m(),d=0,c=x.useCallback(()=>{a({path:"archive",search:{}})},[a]);return e.jsx(h,{expanded:!1,selected:t.selected,highlighted:t.selected,onSelect:c,expandable:!0,label:"archive",sx:{"&>.NavItem-button":{paddingLeft:void 0},"&.NavItem-root":{position:"relative"},...d>0}})}function F({entry:t}){return e.jsx(j,{label:"entry",title:"",children:e.jsxs(p,{sx:{width:"100%"},children:[e.jsxs(i,{value:t.entry_id,label:"Entry ID",fullWidth:!0,children:[e.jsx(I,{}),e.jsx(l,{})]}),e.jsxs(i,{value:t.entry_type,label:"Entry type",fullWidth:!0,children:[e.jsx(o,{}),e.jsx(l,{})]})]})})}function M({entry:t}){return e.jsx(j,{label:"Processing",title:"",children:e.jsxs(p,{sx:{width:"100%"},children:[e.jsxs(i,{value:t.mainfile,label:"Mainfile",fullWidth:!0,children:[e.jsx(o,{displayStringProps:{ellipsis:"left"}}),e.jsx(l,{})]}),e.jsxs(i,{value:t.last_processing_time,label:"Last processing time",fullWidth:!0,children:[e.jsx(W,{variant:"datetime"}),e.jsx(l,{})]}),e.jsxs(i,{value:t.nomad_version,label:"Processing version",fullWidth:!0,children:[e.jsx(o,{}),e.jsx(l,{})]}),e.jsxs(i,{value:t.parser_name,label:"Parser name",fullWidth:!0,children:[e.jsx(o,{}),e.jsx(l,{})]})]})})}function Z(){const t=D(),{url:a,params:d,fullMatch:c,index:f}=m(),u=c[f+1]?.path,r=u===""?"overview":u.startsWith("archive")?"archive":u,{pageVariant:g,isPage:b}=S(),[s,_]=x.useState();return x.useEffect(()=>{if(!t)return;const y=A();async function N(){if(!t)return;const{data:w}=await t.get(`entries/${d.entryId}?${y.exclude.map(E=>`exclude=${E}`).join("&")}`);_(w)}N()},[t,d.entryId]),s?e.jsx(C,{variant:g,maxWidth:"1400px",navigation:e.jsxs(L,{children:[b&&e.jsx(h,{label:"overview",selected:r==="overview",highlighted:r==="overview",component:v,to:a({path:""})}),e.jsx(q,{label:"archive",expanded:r!=="archive"?!1:void 0,selected:r==="archive"}),e.jsx(h,{label:"logs",selected:r==="logs",highlighted:r==="logs",component:v,to:a({path:"logs"})}),e.jsx(n,{}),e.jsx(F,{entry:s}),e.jsx(n,{}),e.jsx(M,{entry:s}),e.jsx(n,{}),e.jsx(k,{upload:{published:s.published,with_embargo:s.with_embargo}}),e.jsx(n,{}),e.jsx(R,{upload:{upload_id:s.upload_id,upload_name:s.upload_name,upload_create_time:s.upload_create_time,process_status:s.process_status}}),s.datasets?.length?e.jsxs(e.Fragment,{children:[e.jsx(n,{}),e.jsx(V,{datasets:s.datasets})]}):null]}),children:e.jsx(U.Provider,{value:{index:s},children:e.jsx(T,{})})}):null}export{Z as default};
